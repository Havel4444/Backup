#!/usr/bin/env python3
import random
import os
import time

class Tablero:
    def __init__(self, ancho, alto):
        self.ancho = ancho
        self.alto = alto
        self.tablero = [['.' for _ in range(ancho)] for _ in range(alto)]

    def imprimir_tablero(self):
        for fila in self.tablero:
            print(' '.join(fila))

    def colocar_barco(self, x, y):
        if x < 1 or x > self.ancho or y < 1 or y > self.alto:
            print("Posición fuera del tablero.")
            return False
        if self.tablero[y - 1][x - 1] == 'O':
            print("Ya hay un barco en esa posición.")
            return False
        self.tablero[y - 1][x - 1] = 'O'
        return True

    def atacar(self, x, y):
        if x < 1 or x > self.ancho or y < 1 or y > self.alto:
            print(f"\n[#] Posición fuera del tablero.")
            return False
        if self.tablero[y - 1][x - 1] == 'O':
            print(f"\n[#] ¡Has hundido un barco!")
            self.tablero[y - 1][x - 1] = 'X'
        else:
            print(f"\n[#] Agua...")
        return True

# Tamaño del tablero
ancho = 10
alto = 10

# Crear el tablero
tablero = Tablero(ancho, alto)

# Colocar barcos aleatorios
for _ in range(5):
    x = random.randint(1, ancho)
    y = random.randint(1, alto)
    tablero.colocar_barco(x, y)

# Juego
print("¡Bienvenido a Batalla Naval!")

while True:
    os.system('clear')
    print("¡Bienvenido a Batalla Naval!")
    tablero.imprimir_tablero()
    x = int(input("Ingrese la coordenada X para atacar: "))
    y = int(input("Ingrese la coordenada Y para atacar: "))
    tablero.atacar(x, y)
    time.sleep(1)
p11()
